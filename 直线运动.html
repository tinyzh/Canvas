<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>直线运动</title>
</head>
<body>
    <canvas id="canvas" width="600" height="300" style="background: #000;"></canvas>

    <script src="ball.js"></script>
    <script>
        window.onload = function(){
            var canvas = document.getElementById('canvas');
            var context = canvas.getContext('2d');

            var ball = new Ball();
            ball.x = canvas.width / 4;
            ball.y = canvas.height / 4;
            ball.radius = 3;

//            var vx = 2; // 水平速度
//            var vy = 1; // 垂直速度

            var speed = 5;
            var angle = 30;

            (function drawFrame(){
                window.requestAnimationFrame(drawFrame);

                context.clearRect(0,0,canvas.width,canvas.height);

                // cos 临边/斜边 vx/speed   sin 对边/斜边 vy/speed
                var vx = Math.cos(angle * Math.PI/180) * speed;
                var vy = Math.sin(angle * Math.PI/180) * speed;

//                if(ball.x > canvas.width - ball.radius || ball.x < ball.radius){
//                    vx = -vx;
//                }
//                if(ball.y > canvas.height - ball.radius || ball.y < ball.radius){
//                    vy = -vy;
//                }


                ball.x += vx;
                ball.y += vy;
                ball.draw(context);
            }())
        }
    </script>
</body>
</html>